{
  "examples": [
    {
      "slug": "counter",
      "title": "Counter",
      "description": "A basic counter example demonstrating state management with increment, decrement, and reset actions.",
      "featuresPreview": [
        {
          "name": "Number state",
          "category": "state"
        },
        {
          "name": "Actions with steps",
          "category": "action"
        },
        {
          "name": "Click event handlers",
          "category": "action"
        }
      ],
      "featuresExtra": [
        {
          "name": "State updates",
          "category": "state"
        }
      ],
      "featuresExtraCount": 1,
      "runCommands": [
        "npm install @constela/core @constela/runtime",
        "npx constela run counter.json"
      ],
      "code": {
        "version": "1.0",
        "state": {
          "count": {
            "type": "number",
            "initial": 0
          }
        },
        "actions": [
          {
            "name": "increment",
            "steps": [
              {
                "do": "update",
                "target": "count",
                "operation": "increment"
              }
            ]
          },
          {
            "name": "decrement",
            "steps": [
              {
                "do": "update",
                "target": "count",
                "operation": "decrement"
              }
            ]
          },
          {
            "name": "reset",
            "steps": [
              {
                "do": "set",
                "target": "count",
                "value": {
                  "expr": "lit",
                  "value": 0
                }
              }
            ]
          }
        ],
        "view": {
          "kind": "element",
          "tag": "div",
          "props": {
            "style": {
              "expr": "lit",
              "value": "font-family: system-ui, sans-serif; padding: 16px;"
            }
          },
          "children": [
            {
              "kind": "element",
              "tag": "h1",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "margin: 0 0 8px 0; font-size: 24px;"
                }
              },
              "children": [
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": "Counter"
                  }
                }
              ]
            },
            {
              "kind": "element",
              "tag": "p",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "color: #666; margin: 0 0 16px 0;"
                }
              },
              "children": [
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": "A simple counter with increment, decrement, and reset."
                  }
                }
              ]
            },
            {
              "kind": "element",
              "tag": "div",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "font-size: 48px; font-weight: bold; text-align: center; padding: 24px; background: #f5f5f5; border-radius: 8px; margin-bottom: 16px; color: #333;"
                }
              },
              "children": [
                {
                  "kind": "text",
                  "value": {
                    "expr": "state",
                    "name": "count"
                  }
                }
              ]
            },
            {
              "kind": "element",
              "tag": "div",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "display: flex; gap: 8px; justify-content: center;"
                }
              },
              "children": [
                {
                  "kind": "element",
                  "tag": "button",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "width: 48px; height: 48px; font-size: 24px; background: #0070f3; color: white; border: none; border-radius: 50%; cursor: pointer;"
                    },
                    "onClick": {
                      "event": "click",
                      "action": "decrement"
                    }
                  },
                  "children": [
                    {
                      "kind": "text",
                      "value": {
                        "expr": "lit",
                        "value": "-"
                      }
                    }
                  ]
                },
                {
                  "kind": "element",
                  "tag": "button",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "width: 48px; height: 48px; font-size: 24px; background: #0070f3; color: white; border: none; border-radius: 50%; cursor: pointer;"
                    },
                    "onClick": {
                      "event": "click",
                      "action": "increment"
                    }
                  },
                  "children": [
                    {
                      "kind": "text",
                      "value": {
                        "expr": "lit",
                        "value": "+"
                      }
                    }
                  ]
                },
                {
                  "kind": "element",
                  "tag": "button",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "padding: 12px 24px; font-size: 14px; background: #666; color: white; border: none; border-radius: 4px; cursor: pointer;"
                    },
                    "onClick": {
                      "event": "click",
                      "action": "reset"
                    }
                  },
                  "children": [
                    {
                      "kind": "text",
                      "value": {
                        "expr": "lit",
                        "value": "Reset"
                      }
                    }
                  ]
                }
              ]
            }
          ]
        }
      }
    },
    {
      "slug": "todo-list",
      "title": "Todo List",
      "description": "A todo list example demonstrating list state management, input binding, and iteration with the each loop.",
      "featuresPreview": [
        {
          "name": "List state",
          "category": "state"
        },
        {
          "name": "String state",
          "category": "state"
        },
        {
          "name": "Input binding",
          "category": "action"
        }
      ],
      "featuresExtra": [
        {
          "name": "Each loop",
          "category": "default"
        },
        {
          "name": "List operations",
          "category": "action"
        },
        {
          "name": "Payload passing",
          "category": "action"
        }
      ],
      "featuresExtraCount": 3,
      "runCommands": [
        "npm install @constela/core @constela/runtime",
        "npx constela run todo-list.json"
      ],
      "code": {
        "version": "1.0",
        "state": {
          "todos": {
            "type": "list",
            "initial": []
          },
          "newTodo": {
            "type": "string",
            "initial": ""
          }
        },
        "actions": [
          {
            "name": "setNewTodo",
            "steps": [
              {
                "do": "set",
                "target": "newTodo",
                "value": {
                  "expr": "var",
                  "name": "value"
                }
              }
            ]
          },
          {
            "name": "addTodo",
            "steps": [
              {
                "do": "update",
                "target": "todos",
                "operation": "push",
                "value": {
                  "expr": "state",
                  "name": "newTodo"
                }
              },
              {
                "do": "set",
                "target": "newTodo",
                "value": {
                  "expr": "lit",
                  "value": ""
                }
              }
            ]
          },
          {
            "name": "removeTodo",
            "steps": [
              {
                "do": "update",
                "target": "todos",
                "operation": "remove",
                "value": {
                  "expr": "var",
                  "name": "item"
                }
              }
            ]
          }
        ],
        "view": {
          "kind": "element",
          "tag": "div",
          "props": {
            "style": {
              "expr": "lit",
              "value": "font-family: system-ui, sans-serif; padding: 16px;"
            }
          },
          "children": [
            {
              "kind": "element",
              "tag": "h1",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "margin: 0 0 8px 0; font-size: 24px;"
                }
              },
              "children": [
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": "Todo List"
                  }
                }
              ]
            },
            {
              "kind": "element",
              "tag": "p",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "color: #666; margin: 0 0 16px 0;"
                }
              },
              "children": [
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": "Add items and manage your todo list."
                  }
                }
              ]
            },
            {
              "kind": "element",
              "tag": "div",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "display: flex; gap: 8px; margin-bottom: 16px;"
                }
              },
              "children": [
                {
                  "kind": "element",
                  "tag": "input",
                  "props": {
                    "type": {
                      "expr": "lit",
                      "value": "text"
                    },
                    "style": {
                      "expr": "lit",
                      "value": "flex: 1; padding: 8px 12px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px; color: #333; background: white;"
                    },
                    "value": {
                      "expr": "state",
                      "name": "newTodo"
                    },
                    "onInput": {
                      "event": "input",
                      "action": "setNewTodo",
                      "payload": {
                        "expr": "var",
                        "name": "value"
                      }
                    }
                  }
                },
                {
                  "kind": "element",
                  "tag": "button",
                  "props": {
                    "style": {
                      "expr": "cond",
                      "if": {
                        "expr": "bin",
                        "op": "==",
                        "left": {
                          "expr": "state",
                          "name": "newTodo"
                        },
                        "right": {
                          "expr": "lit",
                          "value": ""
                        }
                      },
                      "then": {
                        "expr": "lit",
                        "value": "padding: 8px 16px; background: #ccc; color: #666; border: none; border-radius: 4px; cursor: not-allowed; font-size: 14px;"
                      },
                      "else": {
                        "expr": "lit",
                        "value": "padding: 8px 16px; background: #0070f3; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;"
                      }
                    },
                    "disabled": {
                      "expr": "bin",
                      "op": "==",
                      "left": {
                        "expr": "state",
                        "name": "newTodo"
                      },
                      "right": {
                        "expr": "lit",
                        "value": ""
                      }
                    },
                    "onClick": {
                      "event": "click",
                      "action": "addTodo"
                    }
                  },
                  "children": [
                    {
                      "kind": "text",
                      "value": {
                        "expr": "lit",
                        "value": "Add"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "kind": "element",
              "tag": "ul",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "list-style: none; padding: 0; margin: 0;"
                }
              },
              "children": [
                {
                  "kind": "each",
                  "items": {
                    "expr": "state",
                    "name": "todos"
                  },
                  "as": "item",
                  "body": {
                    "kind": "element",
                    "tag": "li",
                    "props": {
                      "style": {
                        "expr": "lit",
                        "value": "display: flex; align-items: center; justify-content: space-between; padding: 12px; margin-bottom: 8px; background: #f5f5f5; border-radius: 4px;"
                      }
                    },
                    "children": [
                      {
                        "kind": "element",
                        "tag": "span",
                        "props": {
                          "style": {
                            "expr": "lit",
                            "value": "color: #333;"
                          }
                        },
                        "children": [
                          {
                            "kind": "text",
                            "value": {
                              "expr": "var",
                              "name": "item"
                            }
                          }
                        ]
                      },
                      {
                        "kind": "element",
                        "tag": "button",
                        "props": {
                          "style": {
                            "expr": "lit",
                            "value": "padding: 4px 12px; background: #dc2626; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;"
                          },
                          "onClick": {
                            "event": "click",
                            "action": "removeTodo",
                            "payload": {
                              "expr": "var",
                              "name": "item"
                            }
                          }
                        },
                        "children": [
                          {
                            "kind": "text",
                            "value": {
                              "expr": "lit",
                              "value": "Delete"
                            }
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      }
    },
    {
      "slug": "fetch-list",
      "title": "Fetch List",
      "description": "An example demonstrating how to fetch data from an API with loading states and error handling.",
      "featuresPreview": [
        {
          "name": "Fetch step",
          "category": "action"
        },
        {
          "name": "Loading state",
          "category": "state"
        },
        {
          "name": "onSuccess/onError",
          "category": "action"
        }
      ],
      "featuresExtra": [
        {
          "name": "Conditional rendering",
          "category": "default"
        },
        {
          "name": "Object path access",
          "category": "default"
        },
        {
          "name": "Binary expressions",
          "category": "default"
        }
      ],
      "featuresExtraCount": 3,
      "runCommands": [
        "npm install @constela/core @constela/runtime",
        "npx constela run fetch-list.json"
      ],
      "code": {
        "version": "1.0",
        "state": {
          "users": {
            "type": "list",
            "initial": []
          },
          "loading": {
            "type": "string",
            "initial": "idle"
          }
        },
        "actions": [
          {
            "name": "fetchUsers",
            "steps": [
              {
                "do": "set",
                "target": "loading",
                "value": {
                  "expr": "lit",
                  "value": "loading"
                }
              },
              {
                "do": "fetch",
                "url": {
                  "expr": "lit",
                  "value": "https://jsonplaceholder.typicode.com/users"
                },
                "method": "GET",
                "result": "data",
                "onSuccess": [
                  {
                    "do": "set",
                    "target": "users",
                    "value": {
                      "expr": "var",
                      "name": "data"
                    }
                  },
                  {
                    "do": "set",
                    "target": "loading",
                    "value": {
                      "expr": "lit",
                      "value": "done"
                    }
                  }
                ],
                "onError": [
                  {
                    "do": "set",
                    "target": "loading",
                    "value": {
                      "expr": "lit",
                      "value": "error"
                    }
                  }
                ]
              }
            ]
          }
        ],
        "view": {
          "kind": "element",
          "tag": "div",
          "props": {
            "style": {
              "expr": "lit",
              "value": "font-family: system-ui, sans-serif; padding: 16px;"
            }
          },
          "children": [
            {
              "kind": "element",
              "tag": "h1",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "margin: 0 0 8px 0; font-size: 24px;"
                }
              },
              "children": [
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": "API Data Fetching"
                  }
                }
              ]
            },
            {
              "kind": "element",
              "tag": "p",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "color: #666; margin: 0 0 16px 0;"
                }
              },
              "children": [
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": "Click the button to fetch user data from JSONPlaceholder API."
                  }
                }
              ]
            },
            {
              "kind": "element",
              "tag": "button",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "padding: 8px 16px; background: #0070f3; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;"
                },
                "onClick": {
                  "event": "click",
                  "action": "fetchUsers"
                }
              },
              "children": [
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": "Fetch Users"
                  }
                }
              ]
            },
            {
              "kind": "if",
              "condition": {
                "expr": "bin",
                "op": "==",
                "left": {
                  "expr": "state",
                  "name": "loading"
                },
                "right": {
                  "expr": "lit",
                  "value": "loading"
                }
              },
              "then": {
                "kind": "element",
                "tag": "p",
                "props": {
                  "style": {
                    "expr": "lit",
                    "value": "margin-top: 16px; color: #666;"
                  }
                },
                "children": [
                  {
                    "kind": "text",
                    "value": {
                      "expr": "lit",
                      "value": "Loading..."
                    }
                  }
                ]
              }
            },
            {
              "kind": "if",
              "condition": {
                "expr": "bin",
                "op": "==",
                "left": {
                  "expr": "state",
                  "name": "loading"
                },
                "right": {
                  "expr": "lit",
                  "value": "error"
                }
              },
              "then": {
                "kind": "element",
                "tag": "p",
                "props": {
                  "style": {
                    "expr": "lit",
                    "value": "margin-top: 16px; color: #dc2626;"
                  }
                },
                "children": [
                  {
                    "kind": "text",
                    "value": {
                      "expr": "lit",
                      "value": "Failed to fetch data."
                    }
                  }
                ]
              }
            },
            {
              "kind": "element",
              "tag": "ul",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "list-style: none; padding: 0; margin-top: 16px;"
                }
              },
              "children": [
                {
                  "kind": "each",
                  "items": {
                    "expr": "state",
                    "name": "users"
                  },
                  "as": "user",
                  "body": {
                    "kind": "element",
                    "tag": "li",
                    "props": {
                      "style": {
                        "expr": "lit",
                        "value": "padding: 12px; margin-bottom: 8px; background: #f5f5f5; border-radius: 4px;"
                      }
                    },
                    "children": [
                      {
                        "kind": "element",
                        "tag": "div",
                        "props": {
                          "style": {
                            "expr": "lit",
                            "value": "font-weight: bold; color: #333;"
                          }
                        },
                        "children": [
                          {
                            "kind": "text",
                            "value": {
                              "expr": "var",
                              "name": "user",
                              "path": "name"
                            }
                          }
                        ]
                      },
                      {
                        "kind": "element",
                        "tag": "div",
                        "props": {
                          "style": {
                            "expr": "lit",
                            "value": "color: #666; font-size: 14px;"
                          }
                        },
                        "children": [
                          {
                            "kind": "text",
                            "value": {
                              "expr": "var",
                              "name": "user",
                              "path": "email"
                            }
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      }
    },
    {
      "slug": "router",
      "title": "Router",
      "description": "A multi-page routing example demonstrating navigation, nested routes, and dynamic parameters.",
      "featuresPreview": [
        {
          "name": "@constela/router",
          "category": "component"
        },
        {
          "name": "Route definitions",
          "category": "component"
        },
        {
          "name": "Link component",
          "category": "component"
        }
      ],
      "featuresExtra": [
        {
          "name": "Nested routes",
          "category": "component"
        },
        {
          "name": "Dynamic params",
          "category": "default"
        },
        {
          "name": "Param expressions",
          "category": "default"
        }
      ],
      "featuresExtraCount": 3,
      "runCommands": [
        "npm install @constela/core @constela/runtime @constela/router",
        "npx constela dev"
      ],
      "note": "This example requires the @constela/router package and uses TypeScript instead of the JSON DSL for router configuration.",
      "code": {
        "version": "1.0",
        "state": {
          "currentPage": {
            "type": "string",
            "initial": "home"
          }
        },
        "actions": [
          {
            "name": "navigate",
            "steps": [
              {
                "do": "set",
                "target": "currentPage",
                "value": {
                  "expr": "var",
                  "name": "payload",
                  "path": "page"
                }
              }
            ]
          }
        ],
        "view": {
          "kind": "element",
          "tag": "div",
          "props": {
            "style": {
              "expr": "lit",
              "value": "font-family: system-ui, sans-serif; padding: 16px;"
            }
          },
          "children": [
            {
              "kind": "element",
              "tag": "h1",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "margin: 0 0 8px 0; font-size: 24px;"
                }
              },
              "children": [
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": "Router Example"
                  }
                }
              ]
            },
            {
              "kind": "element",
              "tag": "p",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "color: #666; margin: 0 0 16px 0;"
                }
              },
              "children": [
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": "Client-side routing between pages."
                  }
                }
              ]
            },
            {
              "kind": "element",
              "tag": "nav",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "display: flex; gap: 8px; margin-bottom: 16px;"
                }
              },
              "children": [
                {
                  "kind": "element",
                  "tag": "button",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "padding: 8px 16px; background: #0070f3; color: white; border: none; border-radius: 4px; cursor: pointer;"
                    },
                    "onClick": {
                      "event": "click",
                      "action": "navigate",
                      "payload": {
                        "page": {
                          "expr": "lit",
                          "value": "home"
                        }
                      }
                    }
                  },
                  "children": [
                    {
                      "kind": "text",
                      "value": {
                        "expr": "lit",
                        "value": "Home"
                      }
                    }
                  ]
                },
                {
                  "kind": "element",
                  "tag": "button",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "padding: 8px 16px; background: #0070f3; color: white; border: none; border-radius: 4px; cursor: pointer;"
                    },
                    "onClick": {
                      "event": "click",
                      "action": "navigate",
                      "payload": {
                        "page": {
                          "expr": "lit",
                          "value": "about"
                        }
                      }
                    }
                  },
                  "children": [
                    {
                      "kind": "text",
                      "value": {
                        "expr": "lit",
                        "value": "About"
                      }
                    }
                  ]
                },
                {
                  "kind": "element",
                  "tag": "button",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "padding: 8px 16px; background: #0070f3; color: white; border: none; border-radius: 4px; cursor: pointer;"
                    },
                    "onClick": {
                      "event": "click",
                      "action": "navigate",
                      "payload": {
                        "page": {
                          "expr": "lit",
                          "value": "contact"
                        }
                      }
                    }
                  },
                  "children": [
                    {
                      "kind": "text",
                      "value": {
                        "expr": "lit",
                        "value": "Contact"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "kind": "element",
              "tag": "div",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "padding: 16px; background: #f5f5f5; border-radius: 8px;"
                }
              },
              "children": [
                {
                  "kind": "element",
                  "tag": "p",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "font-size: 18px; color: #333;"
                    }
                  },
                  "children": [
                    {
                      "kind": "text",
                      "value": {
                        "expr": "lit",
                        "value": "Current page: "
                      }
                    },
                    {
                      "kind": "text",
                      "value": {
                        "expr": "state",
                        "name": "currentPage"
                      }
                    }
                  ]
                }
              ]
            }
          ]
        }
      }
    },
    {
      "slug": "portals-observers-validity",
      "title": "Portals, Timers, Observers & Validity",
      "description": "Demo of Portals, Timers (auto-close modal), Intersection Observer, and Form Validity.",
      "featuresPreview": [
        {
          "name": "Portal",
          "category": "component"
        },
        {
          "name": "Timer",
          "category": "component"
        },
        {
          "name": "Intersection Observer",
          "category": "component"
        }
      ],
      "featuresExtra": [
        {
          "name": "Form validity",
          "category": "default"
        },
        {
          "name": "Conditional styling",
          "category": "default"
        }
      ],
      "featuresExtraCount": 2,
      "runCommands": [
        "npm install @constela/core @constela/runtime",
        "npx constela run advanced-features.json"
      ],
      "code": {
        "version": "1.0",
        "state": {
          "showModal": {
            "type": "boolean",
            "initial": false
          },
          "sectionVisible": {
            "type": "boolean",
            "initial": false
          },
          "email": {
            "type": "string",
            "initial": ""
          },
          "countdown": {
            "type": "number",
            "initial": 3
          },
          "timerId": {
            "type": "number",
            "initial": 0
          },
          "submitted": {
            "type": "boolean",
            "initial": false
          }
        },
        "actions": [
          {
            "name": "openModal",
            "steps": [
              {
                "do": "set",
                "target": "showModal",
                "value": {
                  "expr": "lit",
                  "value": true
                }
              },
              {
                "do": "set",
                "target": "countdown",
                "value": {
                  "expr": "lit",
                  "value": 3
                }
              },
              {
                "do": "interval",
                "ms": {
                  "expr": "lit",
                  "value": 1000
                },
                "action": "tickCountdown",
                "result": "timerId"
              }
            ]
          },
          {
            "name": "tickCountdown",
            "steps": [
              {
                "do": "update",
                "target": "countdown",
                "operation": "decrement"
              },
              {
                "do": "if",
                "condition": {
                  "expr": "bin",
                  "op": "<=",
                  "left": {
                    "expr": "state",
                    "name": "countdown"
                  },
                  "right": {
                    "expr": "lit",
                    "value": 0
                  }
                },
                "then": [
                  {
                    "do": "set",
                    "target": "showModal",
                    "value": {
                      "expr": "lit",
                      "value": false
                    }
                  },
                  {
                    "do": "clearTimer",
                    "target": {
                      "expr": "state",
                      "name": "timerId"
                    }
                  }
                ]
              }
            ]
          },
          {
            "name": "closeModal",
            "steps": [
              {
                "do": "clearTimer",
                "target": {
                  "expr": "state",
                  "name": "timerId"
                }
              },
              {
                "do": "set",
                "target": "showModal",
                "value": {
                  "expr": "lit",
                  "value": false
                }
              }
            ]
          },
          {
            "name": "onSectionVisible",
            "steps": [
              {
                "do": "set",
                "target": "sectionVisible",
                "value": {
                  "expr": "lit",
                  "value": true
                }
              }
            ]
          },
          {
            "name": "setEmail",
            "steps": [
              {
                "do": "set",
                "target": "email",
                "value": {
                  "expr": "var",
                  "name": "value"
                }
              }
            ]
          },
          {
            "name": "submit",
            "steps": [
              {
                "do": "set",
                "target": "submitted",
                "value": {
                  "expr": "lit",
                  "value": true
                }
              },
              {
                "do": "delay",
                "ms": {
                  "expr": "lit",
                  "value": 3000
                },
                "then": [
                  {
                    "do": "set",
                    "target": "submitted",
                    "value": {
                      "expr": "lit",
                      "value": false
                    }
                  }
                ]
              }
            ]
          }
        ],
        "view": {
          "kind": "element",
          "tag": "div",
          "props": {
            "style": {
              "expr": "lit",
              "value": "font-family: system-ui, sans-serif; padding: 16px;"
            }
          },
          "children": [
            {
              "kind": "element",
              "tag": "h1",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "margin: 0 0 8px 0; font-size: 24px;"
                }
              },
              "children": [
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": "Portals, Timers, Observers & Validity"
                  }
                }
              ]
            },
            {
              "kind": "element",
              "tag": "p",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "color: #666; margin: 0 0 24px 0;"
                }
              },
              "children": [
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": "Demonstrating Portals, Observers, and Form Validity."
                  }
                }
              ]
            },
            {
              "kind": "element",
              "tag": "div",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "margin-bottom: 24px; padding: 16px; background: #f5f5f5; border-radius: 8px;"
                }
              },
              "children": [
                {
                  "kind": "element",
                  "tag": "h2",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "font-size: 18px; margin: 0 0 12px 0; color: #333;"
                    }
                  },
                  "children": [
                    {
                      "kind": "text",
                      "value": {
                        "expr": "lit",
                        "value": "1. Portals & Timers"
                      }
                    }
                  ]
                },
                {
                  "kind": "element",
                  "tag": "p",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "color: #666; margin: 0 0 12px 0; font-size: 14px;"
                    }
                  },
                  "children": [
                    {
                      "kind": "text",
                      "value": {
                        "expr": "lit",
                        "value": "Render content outside the component tree. Modal auto-closes in 3 seconds."
                      }
                    }
                  ]
                },
                {
                  "kind": "element",
                  "tag": "button",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "padding: 8px 16px; background: #0070f3; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;"
                    },
                    "onClick": {
                      "event": "click",
                      "action": "openModal"
                    }
                  },
                  "children": [
                    {
                      "kind": "text",
                      "value": {
                        "expr": "lit",
                        "value": "Open Modal"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "kind": "element",
              "tag": "div",
              "props": {
                "style": {
                  "expr": "cond",
                  "if": {
                    "expr": "state",
                    "name": "sectionVisible"
                  },
                  "then": {
                    "expr": "lit",
                    "value": "margin-bottom: 24px; padding: 16px; background: #e0f2fe; border-radius: 8px; transition: all 0.5s; transform: translateY(0); opacity: 1;"
                  },
                  "else": {
                    "expr": "lit",
                    "value": "margin-bottom: 24px; padding: 16px; background: #f5f5f5; border-radius: 8px; transition: all 0.5s; transform: translateY(20px); opacity: 0.5;"
                  }
                },
                "onIntersect": {
                  "event": "intersect",
                  "action": "onSectionVisible"
                }
              },
              "children": [
                {
                  "kind": "element",
                  "tag": "h2",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "font-size: 18px; margin: 0 0 12px 0; color: #333;"
                    }
                  },
                  "children": [
                    {
                      "kind": "text",
                      "value": {
                        "expr": "lit",
                        "value": "2. Observers"
                      }
                    }
                  ]
                },
                {
                  "kind": "element",
                  "tag": "p",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "color: #666; margin: 0; font-size: 14px;"
                    }
                  },
                  "children": [
                    {
                      "kind": "text",
                      "value": {
                        "expr": "lit",
                        "value": "This section uses Intersection Observer. Status: "
                      }
                    },
                    {
                      "kind": "element",
                      "tag": "span",
                      "props": {
                        "style": {
                          "expr": "cond",
                          "if": {
                            "expr": "state",
                            "name": "sectionVisible"
                          },
                          "then": {
                            "expr": "lit",
                            "value": "font-weight: bold; color: #16a34a;"
                          },
                          "else": {
                            "expr": "lit",
                            "value": "font-weight: bold; color: #666;"
                          }
                        }
                      },
                      "children": [
                        {
                          "kind": "text",
                          "value": {
                            "expr": "cond",
                            "if": {
                              "expr": "state",
                              "name": "sectionVisible"
                            },
                            "then": {
                              "expr": "lit",
                              "value": "Visible"
                            },
                            "else": {
                              "expr": "lit",
                              "value": "Not visible"
                            }
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "kind": "element",
              "tag": "div",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "margin-bottom: 24px; padding: 16px; background: #f5f5f5; border-radius: 8px;"
                }
              },
              "children": [
                {
                  "kind": "element",
                  "tag": "h2",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "font-size: 18px; margin: 0 0 12px 0; color: #333;"
                    }
                  },
                  "children": [
                    {
                      "kind": "text",
                      "value": {
                        "expr": "lit",
                        "value": "3. Form Validity"
                      }
                    }
                  ]
                },
                {
                  "kind": "element",
                  "tag": "p",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "color: #666; margin: 0 0 12px 0; font-size: 14px;"
                    }
                  },
                  "children": [
                    {
                      "kind": "text",
                      "value": {
                        "expr": "lit",
                        "value": "Real-time form validation using validity expressions."
                      }
                    }
                  ]
                },
                {
                  "kind": "element",
                  "tag": "div",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "display: flex; flex-direction: column; gap: 8px;"
                    }
                  },
                  "children": [
                    {
                      "kind": "element",
                      "tag": "input",
                      "ref": "emailInput",
                      "props": {
                        "type": {
                          "expr": "lit",
                          "value": "email"
                        },
                        "placeholder": {
                          "expr": "lit",
                          "value": "Enter your email"
                        },
                        "style": {
                          "expr": "lit",
                          "value": "padding: 8px 12px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px; color: #333;"
                        },
                        "value": {
                          "expr": "state",
                          "name": "email"
                        },
                        "onInput": {
                          "event": "input",
                          "action": "setEmail",
                          "payload": {
                            "expr": "var",
                            "name": "value"
                          }
                        }
                      }
                    },
                    {
                      "kind": "if",
                      "condition": {
                        "expr": "bin",
                        "op": "&&",
                        "left": {
                          "expr": "state",
                          "name": "email"
                        },
                        "right": {
                          "expr": "not",
                          "operand": {
                            "expr": "validity",
                            "ref": "emailInput",
                            "property": "valid"
                          }
                        }
                      },
                      "then": {
                        "kind": "element",
                        "tag": "p",
                        "props": {
                          "style": {
                            "expr": "lit",
                            "value": "color: #dc2626; font-size: 12px; margin: 0;"
                          }
                        },
                        "children": [
                          {
                            "kind": "text",
                            "value": {
                              "expr": "lit",
                              "value": "Please enter a valid email address"
                            }
                          }
                        ]
                      }
                    },
                    {
                      "kind": "element",
                      "tag": "button",
                      "props": {
                        "style": {
                          "expr": "cond",
                          "if": {
                            "expr": "validity",
                            "ref": "emailInput",
                            "property": "valid"
                          },
                          "then": {
                            "expr": "lit",
                            "value": "padding: 8px 16px; background: #0070f3; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;"
                          },
                          "else": {
                            "expr": "lit",
                            "value": "padding: 8px 16px; background: #ccc; color: #666; border: none; border-radius: 4px; cursor: not-allowed; font-size: 14px;"
                          }
                        },
                        "disabled": {
                          "expr": "not",
                          "operand": {
                            "expr": "validity",
                            "ref": "emailInput",
                            "property": "valid"
                          }
                        },
                        "onClick": {
                          "event": "click",
                          "action": "submit"
                        }
                      },
                      "children": [
                        {
                          "kind": "text",
                          "value": {
                            "expr": "lit",
                            "value": "Submit"
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "kind": "if",
              "condition": {
                "expr": "state",
                "name": "showModal"
              },
              "then": {
                "kind": "portal",
                "target": "body",
                "children": [
                  {
                    "kind": "element",
                    "tag": "div",
                    "props": {
                      "style": {
                        "expr": "lit",
                        "value": "position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 1000;"
                      }
                    },
                    "children": [
                      {
                        "kind": "element",
                        "tag": "div",
                        "props": {
                          "style": {
                            "expr": "lit",
                            "value": "background: white; padding: 24px; border-radius: 8px; max-width: 400px; width: 90%;"
                          }
                        },
                        "children": [
                          {
                            "kind": "element",
                            "tag": "h3",
                            "props": {
                              "style": {
                                "expr": "lit",
                                "value": "margin: 0 0 16px 0; font-size: 18px; color: #333;"
                              }
                            },
                            "children": [
                              {
                                "kind": "text",
                                "value": {
                                  "expr": "lit",
                                  "value": "Portal Modal"
                                }
                              }
                            ]
                          },
                          {
                            "kind": "element",
                            "tag": "p",
                            "props": {
                              "style": {
                                "expr": "lit",
                                "value": "color: #666; margin: 0 0 16px 0;"
                              }
                            },
                            "children": [
                              {
                                "kind": "text",
                                "value": {
                                  "expr": "lit",
                                  "value": "This modal is rendered via a Portal. Auto-closes in "
                                }
                              },
                              {
                                "kind": "text",
                                "value": {
                                  "expr": "state",
                                  "name": "countdown"
                                }
                              },
                              {
                                "kind": "text",
                                "value": {
                                  "expr": "lit",
                                  "value": " seconds."
                                }
                              }
                            ]
                          },
                          {
                            "kind": "element",
                            "tag": "button",
                            "props": {
                              "style": {
                                "expr": "lit",
                                "value": "padding: 8px 16px; background: #0070f3; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;"
                              },
                              "onClick": {
                                "event": "click",
                                "action": "closeModal"
                              }
                            },
                            "children": [
                              {
                                "kind": "text",
                                "value": {
                                  "expr": "lit",
                                  "value": "Close"
                                }
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            },
            {
              "kind": "if",
              "condition": {
                "expr": "state",
                "name": "submitted"
              },
              "then": {
                "kind": "element",
                "tag": "div",
                "props": {
                  "style": {
                    "expr": "lit",
                    "value": "position: fixed; bottom: 24px; right: 24px; background: #16a34a; color: white; padding: 16px 24px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); font-size: 14px; z-index: 1000;"
                  }
                },
                "children": [
                  {
                    "kind": "text",
                    "value": {
                      "expr": "lit",
                      "value": "Form submitted successfully!"
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    },
    {
      "slug": "call-lambda",
      "title": "Call & Lambda",
      "description": "Filter and transform data using call expressions with lambda functions. Demonstrates array filtering, string methods, and computed values.",
      "featuresPreview": [
        {
          "name": "Call expressions",
          "category": "default"
        },
        {
          "name": "Lambda expressions",
          "category": "default"
        },
        {
          "name": "Array filter/map",
          "category": "action"
        }
      ],
      "featuresExtra": [
        {
          "name": "String methods",
          "category": "default"
        },
        {
          "name": "Array length",
          "category": "default"
        },
        {
          "name": "Case-insensitive search",
          "category": "default"
        }
      ],
      "featuresExtraCount": 3,
      "runCommands": [
        "npm install @constela/core @constela/runtime",
        "npx constela run call-lambda.json"
      ],
      "code": {
        "version": "1.0",
        "state": {
          "products": {
            "type": "list",
            "initial": [
              {
                "id": 1,
                "name": "Apple",
                "price": 150
              },
              {
                "id": 2,
                "name": "Banana",
                "price": 100
              },
              {
                "id": 3,
                "name": "Orange",
                "price": 200
              },
              {
                "id": 4,
                "name": "Grape",
                "price": 300
              },
              {
                "id": 5,
                "name": "Pineapple",
                "price": 250
              }
            ]
          },
          "searchQuery": {
            "type": "string",
            "initial": ""
          }
        },
        "actions": [
          {
            "name": "setSearch",
            "steps": [
              {
                "do": "set",
                "target": "searchQuery",
                "value": {
                  "expr": "var",
                  "name": "value"
                }
              }
            ]
          }
        ],
        "view": {
          "kind": "element",
          "tag": "div",
          "props": {
            "style": {
              "expr": "lit",
              "value": "font-family: system-ui, sans-serif; padding: 16px;"
            }
          },
          "children": [
            {
              "kind": "element",
              "tag": "h1",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "margin: 0 0 8px 0; font-size: 24px;"
                }
              },
              "children": [
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": "Product Filter"
                  }
                }
              ]
            },
            {
              "kind": "element",
              "tag": "p",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "color: #666; margin: 0 0 16px 0;"
                }
              },
              "children": [
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": "Search products using call/lambda expressions with case-insensitive filtering."
                  }
                }
              ]
            },
            {
              "kind": "element",
              "tag": "input",
              "props": {
                "type": {
                  "expr": "lit",
                  "value": "text"
                },
                "placeholder": {
                  "expr": "lit",
                  "value": "Search products..."
                },
                "style": {
                  "expr": "lit",
                  "value": "width: 100%; padding: 8px 12px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px; margin-bottom: 16px; box-sizing: border-box; color: #333;"
                },
                "value": {
                  "expr": "state",
                  "name": "searchQuery"
                },
                "onInput": {
                  "event": "input",
                  "action": "setSearch",
                  "payload": {
                    "expr": "var",
                    "name": "value"
                  }
                }
              }
            },
            {
              "kind": "element",
              "tag": "div",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "margin-bottom: 16px; padding: 12px; background: #f0f9ff; border-radius: 4px; color: #0369a1;"
                }
              },
              "children": [
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": "Showing "
                  }
                },
                {
                  "kind": "text",
                  "value": {
                    "expr": "call",
                    "target": {
                      "expr": "call",
                      "target": {
                        "expr": "state",
                        "name": "products"
                      },
                      "method": "filter",
                      "args": [
                        {
                          "expr": "lambda",
                          "param": "p",
                          "body": {
                            "expr": "call",
                            "target": {
                              "expr": "call",
                              "target": {
                                "expr": "get",
                                "base": {
                                  "expr": "var",
                                  "name": "p"
                                },
                                "path": "name"
                              },
                              "method": "toLowerCase"
                            },
                            "method": "includes",
                            "args": [
                              {
                                "expr": "call",
                                "target": {
                                  "expr": "state",
                                  "name": "searchQuery"
                                },
                                "method": "toLowerCase"
                              }
                            ]
                          }
                        }
                      ]
                    },
                    "method": "length"
                  }
                },
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": " of "
                  }
                },
                {
                  "kind": "text",
                  "value": {
                    "expr": "call",
                    "target": {
                      "expr": "state",
                      "name": "products"
                    },
                    "method": "length"
                  }
                },
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": " products"
                  }
                }
              ]
            },
            {
              "kind": "element",
              "tag": "ul",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "list-style: none; padding: 0; margin: 0;"
                }
              },
              "children": [
                {
                  "kind": "each",
                  "items": {
                    "expr": "call",
                    "target": {
                      "expr": "state",
                      "name": "products"
                    },
                    "method": "filter",
                    "args": [
                      {
                        "expr": "lambda",
                        "param": "p",
                        "body": {
                          "expr": "call",
                          "target": {
                            "expr": "call",
                            "target": {
                              "expr": "get",
                              "base": {
                                "expr": "var",
                                "name": "p"
                              },
                              "path": "name"
                            },
                            "method": "toLowerCase"
                          },
                          "method": "includes",
                          "args": [
                            {
                              "expr": "call",
                              "target": {
                                "expr": "state",
                                "name": "searchQuery"
                              },
                              "method": "toLowerCase"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "as": "product",
                  "key": {
                    "expr": "var",
                    "name": "product",
                    "path": "id"
                  },
                  "body": {
                    "kind": "element",
                    "tag": "li",
                    "props": {
                      "style": {
                        "expr": "lit",
                        "value": "display: flex; justify-content: space-between; align-items: center; padding: 12px; margin-bottom: 8px; background: #f5f5f5; border-radius: 4px;"
                      }
                    },
                    "children": [
                      {
                        "kind": "element",
                        "tag": "span",
                        "props": {
                          "style": {
                            "expr": "lit",
                            "value": "font-weight: 500; color: #333;"
                          }
                        },
                        "children": [
                          {
                            "kind": "text",
                            "value": {
                              "expr": "var",
                              "name": "product",
                              "path": "name"
                            }
                          }
                        ]
                      },
                      {
                        "kind": "element",
                        "tag": "span",
                        "props": {
                          "style": {
                            "expr": "lit",
                            "value": "color: #16a34a; font-weight: bold;"
                          }
                        },
                        "children": [
                          {
                            "kind": "text",
                            "value": {
                              "expr": "lit",
                              "value": ""
                            }
                          },
                          {
                            "kind": "text",
                            "value": {
                              "expr": "var",
                              "name": "product",
                              "path": "price"
                            }
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      }
    },
    {
      "slug": "array-expression",
      "title": "Array Expression",
      "description": "Demonstrates dynamic array construction using the array expression feature.",
      "featuresPreview": [
        {
          "name": "Array expression",
          "category": "expression"
        },
        {
          "name": "Call/lambda expressions",
          "category": "expression"
        },
        {
          "name": "setPath action",
          "category": "action"
        }
      ],
      "featuresExtra": [
        {
          "name": "Dynamic array building",
          "category": "expression"
        }
      ],
      "featuresExtraCount": 1,
      "runCommands": [
        "npm install @constela/core @constela/runtime",
        "npx constela run array-expression.json"
      ],
      "code": {
        "version": "1.0",
        "state": {
          "features": {
            "type": "list",
            "initial": [
              {
                "id": "dark-mode",
                "name": "Dark Mode",
                "enabled": false
              },
              {
                "id": "notifications",
                "name": "Notifications",
                "enabled": true
              },
              {
                "id": "auto-save",
                "name": "Auto Save",
                "enabled": false
              }
            ]
          }
        },
        "actions": [
          {
            "name": "toggleFeature",
            "steps": [
              {
                "do": "setPath",
                "target": "features",
                "path": {
                  "expr": "array",
                  "elements": [
                    {
                      "expr": "var",
                      "name": "payload",
                      "path": "index"
                    },
                    {
                      "expr": "lit",
                      "value": "enabled"
                    }
                  ]
                },
                "value": {
                  "expr": "not",
                  "operand": {
                    "expr": "var",
                    "name": "payload",
                    "path": "currentEnabled"
                  }
                }
              }
            ]
          }
        ],
        "view": {
          "kind": "element",
          "tag": "div",
          "props": {
            "style": {
              "expr": "lit",
              "value": "font-family: system-ui, sans-serif; padding: 16px;"
            }
          },
          "children": [
            {
              "kind": "element",
              "tag": "h1",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "margin: 0 0 8px 0; font-size: 24px;"
                }
              },
              "children": [
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": "Feature Selector"
                  }
                }
              ]
            },
            {
              "kind": "element",
              "tag": "p",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "color: #666; margin: 0 0 16px 0;"
                }
              },
              "children": [
                {
                  "kind": "text",
                  "value": {
                    "expr": "lit",
                    "value": "Toggle features and see the selected items displayed using array expression."
                  }
                }
              ]
            },
            {
              "kind": "element",
              "tag": "div",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "margin-bottom: 16px;"
                }
              },
              "children": [
                {
                  "kind": "each",
                  "items": {
                    "expr": "state",
                    "name": "features"
                  },
                  "as": "feature",
                  "index": "i",
                  "key": {
                    "expr": "var",
                    "name": "feature",
                    "path": "id"
                  },
                  "body": {
                    "kind": "element",
                    "tag": "label",
                    "props": {
                      "style": {
                        "expr": "lit",
                        "value": "display: flex; align-items: center; gap: 8px; padding: 8px; cursor: pointer;"
                      }
                    },
                    "children": [
                      {
                        "kind": "element",
                        "tag": "input",
                        "props": {
                          "type": {
                            "expr": "lit",
                            "value": "checkbox"
                          },
                          "checked": {
                            "expr": "var",
                            "name": "feature",
                            "path": "enabled"
                          },
                          "onChange": {
                            "event": "change",
                            "action": "toggleFeature",
                            "payload": {
                              "index": {
                                "expr": "var",
                                "name": "i"
                              },
                              "currentEnabled": {
                                "expr": "var",
                                "name": "feature",
                                "path": "enabled"
                              }
                            }
                          }
                        }
                      },
                      {
                        "kind": "element",
                        "tag": "span",
                        "props": {
                          "style": {
                            "expr": "lit",
                            "value": "color: #333;"
                          }
                        },
                        "children": [
                          {
                            "kind": "text",
                            "value": {
                              "expr": "var",
                              "name": "feature",
                              "path": "name"
                            }
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            },
            {
              "kind": "element",
              "tag": "div",
              "props": {
                "style": {
                  "expr": "lit",
                  "value": "padding: 16px; background: #f5f5f5; border-radius: 8px;"
                }
              },
              "children": [
                {
                  "kind": "element",
                  "tag": "h3",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "margin: 0 0 12px 0; font-size: 16px; color: #333;"
                    }
                  },
                  "children": [
                    {
                      "kind": "text",
                      "value": {
                        "expr": "lit",
                        "value": "Selected Features (using array expression):"
                      }
                    }
                  ]
                },
                {
                  "kind": "element",
                  "tag": "div",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "display: flex; flex-wrap: wrap; gap: 8px;"
                    }
                  },
                  "children": [
                    {
                      "kind": "each",
                      "items": {
                        "expr": "call",
                        "target": {
                          "expr": "state",
                          "name": "features"
                        },
                        "method": "filter",
                        "args": [
                          {
                            "expr": "lambda",
                            "param": "f",
                            "body": {
                              "expr": "get",
                              "base": {
                                "expr": "var",
                                "name": "f"
                              },
                              "path": "enabled"
                            }
                          }
                        ]
                      },
                      "as": "selected",
                      "key": {
                        "expr": "var",
                        "name": "selected",
                        "path": "id"
                      },
                      "body": {
                        "kind": "element",
                        "tag": "span",
                        "props": {
                          "style": {
                            "expr": "lit",
                            "value": "display: inline-block; padding: 4px 12px; background: #0070f3; color: white; border-radius: 16px; font-size: 14px;"
                          }
                        },
                        "children": [
                          {
                            "kind": "text",
                            "value": {
                              "expr": "var",
                              "name": "selected",
                              "path": "name"
                            }
                          }
                        ]
                      }
                    }
                  ]
                },
                {
                  "kind": "element",
                  "tag": "div",
                  "props": {
                    "style": {
                      "expr": "lit",
                      "value": "margin-top: 16px; padding: 12px; background: #e0f2fe; border-radius: 4px;"
                    }
                  },
                  "children": [
                    {
                      "kind": "element",
                      "tag": "code",
                      "props": {
                        "style": {
                          "expr": "lit",
                          "value": "font-size: 12px; color: #0369a1;"
                        }
                      },
                      "children": [
                        {
                          "kind": "text",
                          "value": {
                            "expr": "lit",
                            "value": "Array built: ["
                          }
                        },
                        {
                          "kind": "text",
                          "value": {
                            "expr": "call",
                            "target": {
                              "expr": "call",
                              "target": {
                                "expr": "call",
                                "target": {
                                  "expr": "state",
                                  "name": "features"
                                },
                                "method": "filter",
                                "args": [
                                  {
                                    "expr": "lambda",
                                    "param": "f",
                                    "body": {
                                      "expr": "get",
                                      "base": {
                                        "expr": "var",
                                        "name": "f"
                                      },
                                      "path": "enabled"
                                    }
                                  }
                                ]
                              },
                              "method": "map",
                              "args": [
                                {
                                  "expr": "lambda",
                                  "param": "f",
                                  "body": {
                                    "expr": "get",
                                    "base": {
                                      "expr": "var",
                                      "name": "f"
                                    },
                                    "path": "name"
                                  }
                                }
                              ]
                            },
                            "method": "join",
                            "args": [
                              {
                                "expr": "lit",
                                "value": ", "
                              }
                            ]
                          }
                        },
                        {
                          "kind": "text",
                          "value": {
                            "expr": "lit",
                            "value": "]"
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      }
    }
  ],
  "codes": {
    "counter": {
      "$ref": "#/examples/0/code"
    },
    "todo-list": {
      "$ref": "#/examples/1/code"
    },
    "fetch-list": {
      "$ref": "#/examples/2/code"
    },
    "router": {
      "$ref": "#/examples/3/code"
    },
    "portals-observers-validity": {
      "$ref": "#/examples/4/code"
    },
    "call-lambda": {
      "$ref": "#/examples/5/code"
    },
    "array-expression": {
      "$ref": "#/examples/6/code"
    }
  },
  "items": {
    "counter": {
      "$ref": "#/examples/0"
    },
    "todo-list": {
      "$ref": "#/examples/1"
    },
    "fetch-list": {
      "$ref": "#/examples/2"
    },
    "router": {
      "$ref": "#/examples/3"
    },
    "portals-observers-validity": {
      "$ref": "#/examples/4"
    },
    "call-lambda": {
      "$ref": "#/examples/5"
    },
    "array-expression": {
      "$ref": "#/examples/6"
    }
  },
  "defaultCode": "counter",
  "defaultCodeString": "{\n  \"version\": \"1.0\",\n  \"state\": {\n    \"count\": {\n      \"type\": \"number\",\n      \"initial\": 0\n    }\n  },\n  \"actions\": [\n    {\n      \"name\": \"increment\",\n      \"steps\": [\n        {\n          \"do\": \"update\",\n          \"target\": \"count\",\n          \"operation\": \"increment\"\n        }\n      ]\n    },\n    {\n      \"name\": \"decrement\",\n      \"steps\": [\n        {\n          \"do\": \"update\",\n          \"target\": \"count\",\n          \"operation\": \"decrement\"\n        }\n      ]\n    },\n    {\n      \"name\": \"reset\",\n      \"steps\": [\n        {\n          \"do\": \"set\",\n          \"target\": \"count\",\n          \"value\": {\n            \"expr\": \"lit\",\n            \"value\": 0\n          }\n        }\n      ]\n    }\n  ],\n  \"view\": {\n    \"kind\": \"element\",\n    \"tag\": \"div\",\n    \"props\": {\n      \"style\": {\n        \"expr\": \"lit\",\n        \"value\": \"font-family: system-ui, sans-serif; padding: 16px;\"\n      }\n    },\n    \"children\": [\n      {\n        \"kind\": \"element\",\n        \"tag\": \"h1\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"margin: 0 0 8px 0; font-size: 24px;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"lit\",\n              \"value\": \"Counter\"\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"p\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"color: #666; margin: 0 0 16px 0;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"lit\",\n              \"value\": \"A simple counter with increment, decrement, and reset.\"\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"div\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"font-size: 48px; font-weight: bold; text-align: center; padding: 24px; background: #f5f5f5; border-radius: 8px; margin-bottom: 16px; color: #333;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"state\",\n              \"name\": \"count\"\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"div\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"display: flex; gap: 8px; justify-content: center;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"element\",\n            \"tag\": \"button\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"width: 48px; height: 48px; font-size: 24px; background: #0070f3; color: white; border: none; border-radius: 50%; cursor: pointer;\"\n              },\n              \"onClick\": {\n                \"event\": \"click\",\n                \"action\": \"decrement\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"-\"\n                }\n              }\n            ]\n          },\n          {\n            \"kind\": \"element\",\n            \"tag\": \"button\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"width: 48px; height: 48px; font-size: 24px; background: #0070f3; color: white; border: none; border-radius: 50%; cursor: pointer;\"\n              },\n              \"onClick\": {\n                \"event\": \"click\",\n                \"action\": \"increment\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"+\"\n                }\n              }\n            ]\n          },\n          {\n            \"kind\": \"element\",\n            \"tag\": \"button\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"padding: 12px 24px; font-size: 14px; background: #666; color: white; border: none; border-radius: 4px; cursor: pointer;\"\n              },\n              \"onClick\": {\n                \"event\": \"click\",\n                \"action\": \"reset\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"Reset\"\n                }\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n}",
  "codeStrings": {
    "counter": "{\n  \"version\": \"1.0\",\n  \"state\": {\n    \"count\": {\n      \"type\": \"number\",\n      \"initial\": 0\n    }\n  },\n  \"actions\": [\n    {\n      \"name\": \"increment\",\n      \"steps\": [\n        {\n          \"do\": \"update\",\n          \"target\": \"count\",\n          \"operation\": \"increment\"\n        }\n      ]\n    },\n    {\n      \"name\": \"decrement\",\n      \"steps\": [\n        {\n          \"do\": \"update\",\n          \"target\": \"count\",\n          \"operation\": \"decrement\"\n        }\n      ]\n    },\n    {\n      \"name\": \"reset\",\n      \"steps\": [\n        {\n          \"do\": \"set\",\n          \"target\": \"count\",\n          \"value\": {\n            \"expr\": \"lit\",\n            \"value\": 0\n          }\n        }\n      ]\n    }\n  ],\n  \"view\": {\n    \"kind\": \"element\",\n    \"tag\": \"div\",\n    \"props\": {\n      \"style\": {\n        \"expr\": \"lit\",\n        \"value\": \"font-family: system-ui, sans-serif; padding: 16px;\"\n      }\n    },\n    \"children\": [\n      {\n        \"kind\": \"element\",\n        \"tag\": \"h1\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"margin: 0 0 8px 0; font-size: 24px;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"lit\",\n              \"value\": \"Counter\"\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"p\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"color: #666; margin: 0 0 16px 0;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"lit\",\n              \"value\": \"A simple counter with increment, decrement, and reset.\"\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"div\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"font-size: 48px; font-weight: bold; text-align: center; padding: 24px; background: #f5f5f5; border-radius: 8px; margin-bottom: 16px; color: #333;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"state\",\n              \"name\": \"count\"\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"div\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"display: flex; gap: 8px; justify-content: center;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"element\",\n            \"tag\": \"button\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"width: 48px; height: 48px; font-size: 24px; background: #0070f3; color: white; border: none; border-radius: 50%; cursor: pointer;\"\n              },\n              \"onClick\": {\n                \"event\": \"click\",\n                \"action\": \"decrement\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"-\"\n                }\n              }\n            ]\n          },\n          {\n            \"kind\": \"element\",\n            \"tag\": \"button\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"width: 48px; height: 48px; font-size: 24px; background: #0070f3; color: white; border: none; border-radius: 50%; cursor: pointer;\"\n              },\n              \"onClick\": {\n                \"event\": \"click\",\n                \"action\": \"increment\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"+\"\n                }\n              }\n            ]\n          },\n          {\n            \"kind\": \"element\",\n            \"tag\": \"button\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"padding: 12px 24px; font-size: 14px; background: #666; color: white; border: none; border-radius: 4px; cursor: pointer;\"\n              },\n              \"onClick\": {\n                \"event\": \"click\",\n                \"action\": \"reset\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"Reset\"\n                }\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n}",
    "todo-list": "{\n  \"version\": \"1.0\",\n  \"state\": {\n    \"todos\": {\n      \"type\": \"list\",\n      \"initial\": []\n    },\n    \"newTodo\": {\n      \"type\": \"string\",\n      \"initial\": \"\"\n    }\n  },\n  \"actions\": [\n    {\n      \"name\": \"setNewTodo\",\n      \"steps\": [\n        {\n          \"do\": \"set\",\n          \"target\": \"newTodo\",\n          \"value\": {\n            \"expr\": \"var\",\n            \"name\": \"value\"\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"addTodo\",\n      \"steps\": [\n        {\n          \"do\": \"update\",\n          \"target\": \"todos\",\n          \"operation\": \"push\",\n          \"value\": {\n            \"expr\": \"state\",\n            \"name\": \"newTodo\"\n          }\n        },\n        {\n          \"do\": \"set\",\n          \"target\": \"newTodo\",\n          \"value\": {\n            \"expr\": \"lit\",\n            \"value\": \"\"\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"removeTodo\",\n      \"steps\": [\n        {\n          \"do\": \"update\",\n          \"target\": \"todos\",\n          \"operation\": \"remove\",\n          \"value\": {\n            \"expr\": \"var\",\n            \"name\": \"item\"\n          }\n        }\n      ]\n    }\n  ],\n  \"view\": {\n    \"kind\": \"element\",\n    \"tag\": \"div\",\n    \"props\": {\n      \"style\": {\n        \"expr\": \"lit\",\n        \"value\": \"font-family: system-ui, sans-serif; padding: 16px;\"\n      }\n    },\n    \"children\": [\n      {\n        \"kind\": \"element\",\n        \"tag\": \"h1\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"margin: 0 0 8px 0; font-size: 24px;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"lit\",\n              \"value\": \"Todo List\"\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"p\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"color: #666; margin: 0 0 16px 0;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"lit\",\n              \"value\": \"Add items and manage your todo list.\"\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"div\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"display: flex; gap: 8px; margin-bottom: 16px;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"element\",\n            \"tag\": \"input\",\n            \"props\": {\n              \"type\": {\n                \"expr\": \"lit\",\n                \"value\": \"text\"\n              },\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"flex: 1; padding: 8px 12px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px; color: #333; background: white;\"\n              },\n              \"value\": {\n                \"expr\": \"state\",\n                \"name\": \"newTodo\"\n              },\n              \"onInput\": {\n                \"event\": \"input\",\n                \"action\": \"setNewTodo\",\n                \"payload\": {\n                  \"expr\": \"var\",\n                  \"name\": \"value\"\n                }\n              }\n            }\n          },\n          {\n            \"kind\": \"element\",\n            \"tag\": \"button\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"cond\",\n                \"if\": {\n                  \"expr\": \"bin\",\n                  \"op\": \"==\",\n                  \"left\": {\n                    \"expr\": \"state\",\n                    \"name\": \"newTodo\"\n                  },\n                  \"right\": {\n                    \"expr\": \"lit\",\n                    \"value\": \"\"\n                  }\n                },\n                \"then\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"padding: 8px 16px; background: #ccc; color: #666; border: none; border-radius: 4px; cursor: not-allowed; font-size: 14px;\"\n                },\n                \"else\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"padding: 8px 16px; background: #0070f3; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;\"\n                }\n              },\n              \"disabled\": {\n                \"expr\": \"bin\",\n                \"op\": \"==\",\n                \"left\": {\n                  \"expr\": \"state\",\n                  \"name\": \"newTodo\"\n                },\n                \"right\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"\"\n                }\n              },\n              \"onClick\": {\n                \"event\": \"click\",\n                \"action\": \"addTodo\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"Add\"\n                }\n              }\n            ]\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"ul\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"list-style: none; padding: 0; margin: 0;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"each\",\n            \"items\": {\n              \"expr\": \"state\",\n              \"name\": \"todos\"\n            },\n            \"as\": \"item\",\n            \"body\": {\n              \"kind\": \"element\",\n              \"tag\": \"li\",\n              \"props\": {\n                \"style\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"display: flex; align-items: center; justify-content: space-between; padding: 12px; margin-bottom: 8px; background: #f5f5f5; border-radius: 4px;\"\n                }\n              },\n              \"children\": [\n                {\n                  \"kind\": \"element\",\n                  \"tag\": \"span\",\n                  \"props\": {\n                    \"style\": {\n                      \"expr\": \"lit\",\n                      \"value\": \"color: #333;\"\n                    }\n                  },\n                  \"children\": [\n                    {\n                      \"kind\": \"text\",\n                      \"value\": {\n                        \"expr\": \"var\",\n                        \"name\": \"item\"\n                      }\n                    }\n                  ]\n                },\n                {\n                  \"kind\": \"element\",\n                  \"tag\": \"button\",\n                  \"props\": {\n                    \"style\": {\n                      \"expr\": \"lit\",\n                      \"value\": \"padding: 4px 12px; background: #dc2626; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;\"\n                    },\n                    \"onClick\": {\n                      \"event\": \"click\",\n                      \"action\": \"removeTodo\",\n                      \"payload\": {\n                        \"expr\": \"var\",\n                        \"name\": \"item\"\n                      }\n                    }\n                  },\n                  \"children\": [\n                    {\n                      \"kind\": \"text\",\n                      \"value\": {\n                        \"expr\": \"lit\",\n                        \"value\": \"Delete\"\n                      }\n                    }\n                  ]\n                }\n              ]\n            }\n          }\n        ]\n      }\n    ]\n  }\n}",
    "fetch-list": "{\n  \"version\": \"1.0\",\n  \"state\": {\n    \"users\": {\n      \"type\": \"list\",\n      \"initial\": []\n    },\n    \"loading\": {\n      \"type\": \"string\",\n      \"initial\": \"idle\"\n    }\n  },\n  \"actions\": [\n    {\n      \"name\": \"fetchUsers\",\n      \"steps\": [\n        {\n          \"do\": \"set\",\n          \"target\": \"loading\",\n          \"value\": {\n            \"expr\": \"lit\",\n            \"value\": \"loading\"\n          }\n        },\n        {\n          \"do\": \"fetch\",\n          \"url\": {\n            \"expr\": \"lit\",\n            \"value\": \"https://jsonplaceholder.typicode.com/users\"\n          },\n          \"method\": \"GET\",\n          \"result\": \"data\",\n          \"onSuccess\": [\n            {\n              \"do\": \"set\",\n              \"target\": \"users\",\n              \"value\": {\n                \"expr\": \"var\",\n                \"name\": \"data\"\n              }\n            },\n            {\n              \"do\": \"set\",\n              \"target\": \"loading\",\n              \"value\": {\n                \"expr\": \"lit\",\n                \"value\": \"done\"\n              }\n            }\n          ],\n          \"onError\": [\n            {\n              \"do\": \"set\",\n              \"target\": \"loading\",\n              \"value\": {\n                \"expr\": \"lit\",\n                \"value\": \"error\"\n              }\n            }\n          ]\n        }\n      ]\n    }\n  ],\n  \"view\": {\n    \"kind\": \"element\",\n    \"tag\": \"div\",\n    \"props\": {\n      \"style\": {\n        \"expr\": \"lit\",\n        \"value\": \"font-family: system-ui, sans-serif; padding: 16px;\"\n      }\n    },\n    \"children\": [\n      {\n        \"kind\": \"element\",\n        \"tag\": \"h1\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"margin: 0 0 8px 0; font-size: 24px;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"lit\",\n              \"value\": \"API Data Fetching\"\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"p\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"color: #666; margin: 0 0 16px 0;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"lit\",\n              \"value\": \"Click the button to fetch user data from JSONPlaceholder API.\"\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"button\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"padding: 8px 16px; background: #0070f3; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;\"\n          },\n          \"onClick\": {\n            \"event\": \"click\",\n            \"action\": \"fetchUsers\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"lit\",\n              \"value\": \"Fetch Users\"\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"if\",\n        \"condition\": {\n          \"expr\": \"bin\",\n          \"op\": \"==\",\n          \"left\": {\n            \"expr\": \"state\",\n            \"name\": \"loading\"\n          },\n          \"right\": {\n            \"expr\": \"lit\",\n            \"value\": \"loading\"\n          }\n        },\n        \"then\": {\n          \"kind\": \"element\",\n          \"tag\": \"p\",\n          \"props\": {\n            \"style\": {\n              \"expr\": \"lit\",\n              \"value\": \"margin-top: 16px; color: #666;\"\n            }\n          },\n          \"children\": [\n            {\n              \"kind\": \"text\",\n              \"value\": {\n                \"expr\": \"lit\",\n                \"value\": \"Loading...\"\n              }\n            }\n          ]\n        }\n      },\n      {\n        \"kind\": \"if\",\n        \"condition\": {\n          \"expr\": \"bin\",\n          \"op\": \"==\",\n          \"left\": {\n            \"expr\": \"state\",\n            \"name\": \"loading\"\n          },\n          \"right\": {\n            \"expr\": \"lit\",\n            \"value\": \"error\"\n          }\n        },\n        \"then\": {\n          \"kind\": \"element\",\n          \"tag\": \"p\",\n          \"props\": {\n            \"style\": {\n              \"expr\": \"lit\",\n              \"value\": \"margin-top: 16px; color: #dc2626;\"\n            }\n          },\n          \"children\": [\n            {\n              \"kind\": \"text\",\n              \"value\": {\n                \"expr\": \"lit\",\n                \"value\": \"Failed to fetch data.\"\n              }\n            }\n          ]\n        }\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"ul\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"list-style: none; padding: 0; margin-top: 16px;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"each\",\n            \"items\": {\n              \"expr\": \"state\",\n              \"name\": \"users\"\n            },\n            \"as\": \"user\",\n            \"body\": {\n              \"kind\": \"element\",\n              \"tag\": \"li\",\n              \"props\": {\n                \"style\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"padding: 12px; margin-bottom: 8px; background: #f5f5f5; border-radius: 4px;\"\n                }\n              },\n              \"children\": [\n                {\n                  \"kind\": \"element\",\n                  \"tag\": \"div\",\n                  \"props\": {\n                    \"style\": {\n                      \"expr\": \"lit\",\n                      \"value\": \"font-weight: bold; color: #333;\"\n                    }\n                  },\n                  \"children\": [\n                    {\n                      \"kind\": \"text\",\n                      \"value\": {\n                        \"expr\": \"var\",\n                        \"name\": \"user\",\n                        \"path\": \"name\"\n                      }\n                    }\n                  ]\n                },\n                {\n                  \"kind\": \"element\",\n                  \"tag\": \"div\",\n                  \"props\": {\n                    \"style\": {\n                      \"expr\": \"lit\",\n                      \"value\": \"color: #666; font-size: 14px;\"\n                    }\n                  },\n                  \"children\": [\n                    {\n                      \"kind\": \"text\",\n                      \"value\": {\n                        \"expr\": \"var\",\n                        \"name\": \"user\",\n                        \"path\": \"email\"\n                      }\n                    }\n                  ]\n                }\n              ]\n            }\n          }\n        ]\n      }\n    ]\n  }\n}",
    "router": "{\n  \"version\": \"1.0\",\n  \"state\": {\n    \"currentPage\": {\n      \"type\": \"string\",\n      \"initial\": \"home\"\n    }\n  },\n  \"actions\": [\n    {\n      \"name\": \"navigate\",\n      \"steps\": [\n        {\n          \"do\": \"set\",\n          \"target\": \"currentPage\",\n          \"value\": {\n            \"expr\": \"var\",\n            \"name\": \"payload\",\n            \"path\": \"page\"\n          }\n        }\n      ]\n    }\n  ],\n  \"view\": {\n    \"kind\": \"element\",\n    \"tag\": \"div\",\n    \"props\": {\n      \"style\": {\n        \"expr\": \"lit\",\n        \"value\": \"font-family: system-ui, sans-serif; padding: 16px;\"\n      }\n    },\n    \"children\": [\n      {\n        \"kind\": \"element\",\n        \"tag\": \"h1\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"margin: 0 0 8px 0; font-size: 24px;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"lit\",\n              \"value\": \"Router Example\"\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"p\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"color: #666; margin: 0 0 16px 0;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"lit\",\n              \"value\": \"Client-side routing between pages.\"\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"nav\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"display: flex; gap: 8px; margin-bottom: 16px;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"element\",\n            \"tag\": \"button\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"padding: 8px 16px; background: #0070f3; color: white; border: none; border-radius: 4px; cursor: pointer;\"\n              },\n              \"onClick\": {\n                \"event\": \"click\",\n                \"action\": \"navigate\",\n                \"payload\": {\n                  \"page\": {\n                    \"expr\": \"lit\",\n                    \"value\": \"home\"\n                  }\n                }\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"Home\"\n                }\n              }\n            ]\n          },\n          {\n            \"kind\": \"element\",\n            \"tag\": \"button\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"padding: 8px 16px; background: #0070f3; color: white; border: none; border-radius: 4px; cursor: pointer;\"\n              },\n              \"onClick\": {\n                \"event\": \"click\",\n                \"action\": \"navigate\",\n                \"payload\": {\n                  \"page\": {\n                    \"expr\": \"lit\",\n                    \"value\": \"about\"\n                  }\n                }\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"About\"\n                }\n              }\n            ]\n          },\n          {\n            \"kind\": \"element\",\n            \"tag\": \"button\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"padding: 8px 16px; background: #0070f3; color: white; border: none; border-radius: 4px; cursor: pointer;\"\n              },\n              \"onClick\": {\n                \"event\": \"click\",\n                \"action\": \"navigate\",\n                \"payload\": {\n                  \"page\": {\n                    \"expr\": \"lit\",\n                    \"value\": \"contact\"\n                  }\n                }\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"Contact\"\n                }\n              }\n            ]\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"div\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"padding: 16px; background: #f5f5f5; border-radius: 8px;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"element\",\n            \"tag\": \"p\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"font-size: 18px; color: #333;\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"Current page: \"\n                }\n              },\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"state\",\n                  \"name\": \"currentPage\"\n                }\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n}",
    "portals-observers-validity": "{\n  \"version\": \"1.0\",\n  \"state\": {\n    \"showModal\": {\n      \"type\": \"boolean\",\n      \"initial\": false\n    },\n    \"sectionVisible\": {\n      \"type\": \"boolean\",\n      \"initial\": false\n    },\n    \"email\": {\n      \"type\": \"string\",\n      \"initial\": \"\"\n    },\n    \"countdown\": {\n      \"type\": \"number\",\n      \"initial\": 3\n    },\n    \"timerId\": {\n      \"type\": \"number\",\n      \"initial\": 0\n    },\n    \"submitted\": {\n      \"type\": \"boolean\",\n      \"initial\": false\n    }\n  },\n  \"actions\": [\n    {\n      \"name\": \"openModal\",\n      \"steps\": [\n        { \"do\": \"set\", \"target\": \"showModal\", \"value\": { \"expr\": \"lit\", \"value\": true } },\n        { \"do\": \"set\", \"target\": \"countdown\", \"value\": { \"expr\": \"lit\", \"value\": 3 } },\n        {\n          \"do\": \"interval\",\n          \"ms\": { \"expr\": \"lit\", \"value\": 1000 },\n          \"action\": \"tickCountdown\",\n          \"result\": \"timerId\"\n        }\n      ]\n    },\n    {\n      \"name\": \"tickCountdown\",\n      \"steps\": [\n        { \"do\": \"update\", \"target\": \"countdown\", \"operation\": \"decrement\" },\n        {\n          \"do\": \"if\",\n          \"condition\": { \"expr\": \"bin\", \"op\": \"<=\", \"left\": { \"expr\": \"state\", \"name\": \"countdown\" }, \"right\": { \"expr\": \"lit\", \"value\": 0 } },\n          \"then\": [\n            { \"do\": \"set\", \"target\": \"showModal\", \"value\": { \"expr\": \"lit\", \"value\": false } },\n            { \"do\": \"clearTimer\", \"target\": { \"expr\": \"state\", \"name\": \"timerId\" } }\n          ]\n        }\n      ]\n    },\n    {\n      \"name\": \"closeModal\",\n      \"steps\": [\n        { \"do\": \"clearTimer\", \"target\": { \"expr\": \"state\", \"name\": \"timerId\" } },\n        { \"do\": \"set\", \"target\": \"showModal\", \"value\": { \"expr\": \"lit\", \"value\": false } }\n      ]\n    },\n    {\n      \"name\": \"onSectionVisible\",\n      \"steps\": [\n        {\n          \"do\": \"set\",\n          \"target\": \"sectionVisible\",\n          \"value\": {\n            \"expr\": \"lit\",\n            \"value\": true\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"setEmail\",\n      \"steps\": [\n        {\n          \"do\": \"set\",\n          \"target\": \"email\",\n          \"value\": {\n            \"expr\": \"var\",\n            \"name\": \"value\"\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"submit\",\n      \"steps\": [\n        { \"do\": \"set\", \"target\": \"submitted\", \"value\": { \"expr\": \"lit\", \"value\": true } },\n        {\n          \"do\": \"delay\",\n          \"ms\": { \"expr\": \"lit\", \"value\": 3000 },\n          \"then\": [\n            { \"do\": \"set\", \"target\": \"submitted\", \"value\": { \"expr\": \"lit\", \"value\": false } }\n          ]\n        }\n      ]\n    }\n  ],\n  \"view\": {\n    \"kind\": \"element\",\n    \"tag\": \"div\",\n    \"props\": {\n      \"style\": {\n        \"expr\": \"lit\",\n        \"value\": \"font-family: system-ui, sans-serif; padding: 16px;\"\n      }\n    },\n    \"children\": [\n      {\n        \"kind\": \"element\",\n        \"tag\": \"h1\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"margin: 0 0 8px 0; font-size: 24px;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"lit\",\n              \"value\": \"Portals, Timers, Observers & Validity\"\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"p\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"color: #666; margin: 0 0 24px 0;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"lit\",\n              \"value\": \"Demonstrating Portals, Observers, and Form Validity.\"\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"div\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"margin-bottom: 24px; padding: 16px; background: #f5f5f5; border-radius: 8px;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"element\",\n            \"tag\": \"h2\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"font-size: 18px; margin: 0 0 12px 0; color: #333;\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"1. Portals & Timers\"\n                }\n              }\n            ]\n          },\n          {\n            \"kind\": \"element\",\n            \"tag\": \"p\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"color: #666; margin: 0 0 12px 0; font-size: 14px;\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"Render content outside the component tree. Modal auto-closes in 3 seconds.\"\n                }\n              }\n            ]\n          },\n          {\n            \"kind\": \"element\",\n            \"tag\": \"button\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"padding: 8px 16px; background: #0070f3; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;\"\n              },\n              \"onClick\": {\n                \"event\": \"click\",\n                \"action\": \"openModal\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"Open Modal\"\n                }\n              }\n            ]\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"div\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"cond\",\n            \"if\": {\n              \"expr\": \"state\",\n              \"name\": \"sectionVisible\"\n            },\n            \"then\": {\n              \"expr\": \"lit\",\n              \"value\": \"margin-bottom: 24px; padding: 16px; background: #e0f2fe; border-radius: 8px; transition: all 0.5s; transform: translateY(0); opacity: 1;\"\n            },\n            \"else\": {\n              \"expr\": \"lit\",\n              \"value\": \"margin-bottom: 24px; padding: 16px; background: #f5f5f5; border-radius: 8px; transition: all 0.5s; transform: translateY(20px); opacity: 0.5;\"\n            }\n          },\n          \"onIntersect\": {\n            \"event\": \"intersect\",\n            \"action\": \"onSectionVisible\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"element\",\n            \"tag\": \"h2\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"font-size: 18px; margin: 0 0 12px 0; color: #333;\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"2. Observers\"\n                }\n              }\n            ]\n          },\n          {\n            \"kind\": \"element\",\n            \"tag\": \"p\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"color: #666; margin: 0; font-size: 14px;\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"This section uses Intersection Observer. Status: \"\n                }\n              },\n              {\n                \"kind\": \"element\",\n                \"tag\": \"span\",\n                \"props\": {\n                  \"style\": {\n                    \"expr\": \"cond\",\n                    \"if\": {\n                      \"expr\": \"state\",\n                      \"name\": \"sectionVisible\"\n                    },\n                    \"then\": {\n                      \"expr\": \"lit\",\n                      \"value\": \"font-weight: bold; color: #16a34a;\"\n                    },\n                    \"else\": {\n                      \"expr\": \"lit\",\n                      \"value\": \"font-weight: bold; color: #666;\"\n                    }\n                  }\n                },\n                \"children\": [\n                  {\n                    \"kind\": \"text\",\n                    \"value\": {\n                      \"expr\": \"cond\",\n                      \"if\": {\n                        \"expr\": \"state\",\n                        \"name\": \"sectionVisible\"\n                      },\n                      \"then\": {\n                        \"expr\": \"lit\",\n                        \"value\": \"Visible\"\n                      },\n                      \"else\": {\n                        \"expr\": \"lit\",\n                        \"value\": \"Not visible\"\n                      }\n                    }\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"div\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"margin-bottom: 24px; padding: 16px; background: #f5f5f5; border-radius: 8px;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"element\",\n            \"tag\": \"h2\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"font-size: 18px; margin: 0 0 12px 0; color: #333;\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"3. Form Validity\"\n                }\n              }\n            ]\n          },\n          {\n            \"kind\": \"element\",\n            \"tag\": \"p\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"color: #666; margin: 0 0 12px 0; font-size: 14px;\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"Real-time form validation using validity expressions.\"\n                }\n              }\n            ]\n          },\n          {\n            \"kind\": \"element\",\n            \"tag\": \"div\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"display: flex; flex-direction: column; gap: 8px;\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"element\",\n                \"tag\": \"input\",\n                \"ref\": \"emailInput\",\n                \"props\": {\n                  \"type\": {\n                    \"expr\": \"lit\",\n                    \"value\": \"email\"\n                  },\n                  \"placeholder\": {\n                    \"expr\": \"lit\",\n                    \"value\": \"Enter your email\"\n                  },\n                  \"style\": {\n                    \"expr\": \"lit\",\n                    \"value\": \"padding: 8px 12px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px; color: #333;\"\n                  },\n                  \"value\": {\n                    \"expr\": \"state\",\n                    \"name\": \"email\"\n                  },\n                  \"onInput\": {\n                    \"event\": \"input\",\n                    \"action\": \"setEmail\",\n                    \"payload\": {\n                      \"expr\": \"var\",\n                      \"name\": \"value\"\n                    }\n                  }\n                }\n              },\n              {\n                \"kind\": \"if\",\n                \"condition\": {\n                  \"expr\": \"bin\",\n                  \"op\": \"&&\",\n                  \"left\": {\n                    \"expr\": \"state\",\n                    \"name\": \"email\"\n                  },\n                  \"right\": {\n                    \"expr\": \"not\",\n                    \"operand\": {\n                      \"expr\": \"validity\",\n                      \"ref\": \"emailInput\",\n                      \"property\": \"valid\"\n                    }\n                  }\n                },\n                \"then\": {\n                  \"kind\": \"element\",\n                  \"tag\": \"p\",\n                  \"props\": {\n                    \"style\": {\n                      \"expr\": \"lit\",\n                      \"value\": \"color: #dc2626; font-size: 12px; margin: 0;\"\n                    }\n                  },\n                  \"children\": [\n                    {\n                      \"kind\": \"text\",\n                      \"value\": {\n                        \"expr\": \"lit\",\n                        \"value\": \"Please enter a valid email address\"\n                      }\n                    }\n                  ]\n                }\n              },\n              {\n                \"kind\": \"element\",\n                \"tag\": \"button\",\n                \"props\": {\n                  \"style\": {\n                    \"expr\": \"cond\",\n                    \"if\": {\n                      \"expr\": \"bin\",\n                      \"op\": \"&&\",\n                      \"left\": {\n                        \"expr\": \"bin\",\n                        \"op\": \"!=\",\n                        \"left\": { \"expr\": \"state\", \"name\": \"email\" },\n                        \"right\": { \"expr\": \"lit\", \"value\": \"\" }\n                      },\n                      \"right\": {\n                        \"expr\": \"validity\",\n                        \"ref\": \"emailInput\",\n                        \"property\": \"valid\"\n                      }\n                    },\n                    \"then\": {\n                      \"expr\": \"lit\",\n                      \"value\": \"padding: 8px 16px; background: #0070f3; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;\"\n                    },\n                    \"else\": {\n                      \"expr\": \"lit\",\n                      \"value\": \"padding: 8px 16px; background: #ccc; color: #666; border: none; border-radius: 4px; cursor: not-allowed; font-size: 14px;\"\n                    }\n                  },\n                  \"disabled\": {\n                    \"expr\": \"bin\",\n                    \"op\": \"||\",\n                    \"left\": {\n                      \"expr\": \"bin\",\n                      \"op\": \"==\",\n                      \"left\": { \"expr\": \"state\", \"name\": \"email\" },\n                      \"right\": { \"expr\": \"lit\", \"value\": \"\" }\n                    },\n                    \"right\": {\n                      \"expr\": \"not\",\n                      \"operand\": {\n                        \"expr\": \"validity\",\n                        \"ref\": \"emailInput\",\n                        \"property\": \"valid\"\n                      }\n                    }\n                  },\n                  \"onClick\": {\n                    \"event\": \"click\",\n                    \"action\": \"submit\"\n                  }\n                },\n                \"children\": [\n                  {\n                    \"kind\": \"text\",\n                    \"value\": {\n                      \"expr\": \"lit\",\n                      \"value\": \"Submit\"\n                    }\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      },\n      {\n        \"kind\": \"if\",\n        \"condition\": {\n          \"expr\": \"state\",\n          \"name\": \"showModal\"\n        },\n        \"then\": {\n          \"kind\": \"portal\",\n          \"target\": \"body\",\n          \"children\": [\n            {\n              \"kind\": \"element\",\n              \"tag\": \"div\",\n              \"props\": {\n                \"style\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 1000;\"\n                }\n              },\n              \"children\": [\n                {\n                  \"kind\": \"element\",\n                  \"tag\": \"div\",\n                  \"props\": {\n                    \"style\": {\n                      \"expr\": \"lit\",\n                      \"value\": \"background: white; padding: 24px; border-radius: 8px; max-width: 400px; width: 90%;\"\n                    }\n                  },\n                  \"children\": [\n                    {\n                      \"kind\": \"element\",\n                      \"tag\": \"h3\",\n                      \"props\": {\n                        \"style\": {\n                          \"expr\": \"lit\",\n                          \"value\": \"margin: 0 0 16px 0; font-size: 18px; color: #333;\"\n                        }\n                      },\n                      \"children\": [\n                        {\n                          \"kind\": \"text\",\n                          \"value\": {\n                            \"expr\": \"lit\",\n                            \"value\": \"Portal Modal\"\n                          }\n                        }\n                      ]\n                    },\n                    {\n                      \"kind\": \"element\",\n                      \"tag\": \"p\",\n                      \"props\": {\n                        \"style\": {\n                          \"expr\": \"lit\",\n                          \"value\": \"color: #666; margin: 0 0 16px 0;\"\n                        }\n                      },\n                      \"children\": [\n                        { \"kind\": \"text\", \"value\": { \"expr\": \"lit\", \"value\": \"This modal is rendered via a Portal. Auto-closes in \" } },\n                        { \"kind\": \"text\", \"value\": { \"expr\": \"state\", \"name\": \"countdown\" } },\n                        { \"kind\": \"text\", \"value\": { \"expr\": \"lit\", \"value\": \" seconds.\" } }\n                      ]\n                    },\n                    {\n                      \"kind\": \"element\",\n                      \"tag\": \"button\",\n                      \"props\": {\n                        \"style\": {\n                          \"expr\": \"lit\",\n                          \"value\": \"padding: 8px 16px; background: #0070f3; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;\"\n                        },\n                        \"onClick\": {\n                          \"event\": \"click\",\n                          \"action\": \"closeModal\"\n                        }\n                      },\n                      \"children\": [\n                        {\n                          \"kind\": \"text\",\n                          \"value\": {\n                            \"expr\": \"lit\",\n                            \"value\": \"Close\"\n                          }\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      },\n      {\n        \"kind\": \"if\",\n        \"condition\": {\n          \"expr\": \"state\",\n          \"name\": \"submitted\"\n        },\n        \"then\": {\n          \"kind\": \"element\",\n          \"tag\": \"div\",\n          \"props\": {\n            \"style\": {\n              \"expr\": \"lit\",\n              \"value\": \"position: fixed; bottom: 24px; right: 24px; background: #16a34a; color: white; padding: 16px 24px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); font-size: 14px; z-index: 1000;\"\n            }\n          },\n          \"children\": [\n            {\n              \"kind\": \"text\",\n              \"value\": {\n                \"expr\": \"lit\",\n                \"value\": \"Form submitted successfully!\"\n              }\n            }\n          ]\n        }\n      }\n    ]\n  }\n}",
    "call-lambda": "{\n  \"version\": \"1.0\",\n  \"state\": {\n    \"products\": {\n      \"type\": \"list\",\n      \"initial\": [\n        { \"id\": 1, \"name\": \"Apple\", \"price\": 150 },\n        { \"id\": 2, \"name\": \"Banana\", \"price\": 100 },\n        { \"id\": 3, \"name\": \"Orange\", \"price\": 200 },\n        { \"id\": 4, \"name\": \"Grape\", \"price\": 300 },\n        { \"id\": 5, \"name\": \"Pineapple\", \"price\": 250 }\n      ]\n    },\n    \"searchQuery\": { \"type\": \"string\", \"initial\": \"\" }\n  },\n  \"actions\": [\n    {\n      \"name\": \"setSearch\",\n      \"steps\": [\n        { \"do\": \"set\", \"target\": \"searchQuery\", \"value\": { \"expr\": \"var\", \"name\": \"value\" } }\n      ]\n    }\n  ],\n  \"view\": {\n    \"kind\": \"element\",\n    \"tag\": \"div\",\n    \"props\": { \"style\": { \"expr\": \"lit\", \"value\": \"font-family: system-ui, sans-serif; padding: 16px;\" } },\n    \"children\": [\n      {\n        \"kind\": \"element\",\n        \"tag\": \"h1\",\n        \"props\": { \"style\": { \"expr\": \"lit\", \"value\": \"margin: 0 0 8px 0; font-size: 24px;\" } },\n        \"children\": [{ \"kind\": \"text\", \"value\": { \"expr\": \"lit\", \"value\": \"Product Filter\" } }]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"p\",\n        \"props\": { \"style\": { \"expr\": \"lit\", \"value\": \"color: #666; margin: 0 0 16px 0;\" } },\n        \"children\": [{ \"kind\": \"text\", \"value\": { \"expr\": \"lit\", \"value\": \"Search products using call/lambda expressions with case-insensitive filtering.\" } }]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"input\",\n        \"props\": {\n          \"type\": { \"expr\": \"lit\", \"value\": \"text\" },\n          \"placeholder\": { \"expr\": \"lit\", \"value\": \"Search products...\" },\n          \"style\": { \"expr\": \"lit\", \"value\": \"width: 100%; padding: 8px 12px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px; margin-bottom: 16px; box-sizing: border-box; color: #333;\" },\n          \"value\": { \"expr\": \"state\", \"name\": \"searchQuery\" },\n          \"onInput\": { \"event\": \"input\", \"action\": \"setSearch\", \"payload\": { \"expr\": \"var\", \"name\": \"value\" } }\n        }\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"div\",\n        \"props\": { \"style\": { \"expr\": \"lit\", \"value\": \"margin-bottom: 16px; padding: 12px; background: #f0f9ff; border-radius: 4px; color: #0369a1;\" } },\n        \"children\": [\n          { \"kind\": \"text\", \"value\": { \"expr\": \"lit\", \"value\": \"Showing \" } },\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"call\",\n              \"target\": {\n                \"expr\": \"call\",\n                \"target\": { \"expr\": \"state\", \"name\": \"products\" },\n                \"method\": \"filter\",\n                \"args\": [{\n                  \"expr\": \"lambda\",\n                  \"param\": \"p\",\n                  \"body\": {\n                    \"expr\": \"call\",\n                    \"target\": {\n                      \"expr\": \"call\",\n                      \"target\": { \"expr\": \"get\", \"base\": { \"expr\": \"var\", \"name\": \"p\" }, \"path\": \"name\" },\n                      \"method\": \"toLowerCase\"\n                    },\n                    \"method\": \"includes\",\n                    \"args\": [{\n                      \"expr\": \"call\",\n                      \"target\": { \"expr\": \"state\", \"name\": \"searchQuery\" },\n                      \"method\": \"toLowerCase\"\n                    }]\n                  }\n                }]\n              },\n              \"method\": \"length\"\n            }\n          },\n          { \"kind\": \"text\", \"value\": { \"expr\": \"lit\", \"value\": \" of \" } },\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"call\",\n              \"target\": { \"expr\": \"state\", \"name\": \"products\" },\n              \"method\": \"length\"\n            }\n          },\n          { \"kind\": \"text\", \"value\": { \"expr\": \"lit\", \"value\": \" products\" } }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"ul\",\n        \"props\": { \"style\": { \"expr\": \"lit\", \"value\": \"list-style: none; padding: 0; margin: 0;\" } },\n        \"children\": [\n          {\n            \"kind\": \"each\",\n            \"items\": {\n              \"expr\": \"call\",\n              \"target\": { \"expr\": \"state\", \"name\": \"products\" },\n              \"method\": \"filter\",\n              \"args\": [{\n                \"expr\": \"lambda\",\n                \"param\": \"p\",\n                \"body\": {\n                  \"expr\": \"call\",\n                  \"target\": {\n                    \"expr\": \"call\",\n                    \"target\": { \"expr\": \"get\", \"base\": { \"expr\": \"var\", \"name\": \"p\" }, \"path\": \"name\" },\n                    \"method\": \"toLowerCase\"\n                  },\n                  \"method\": \"includes\",\n                  \"args\": [{\n                    \"expr\": \"call\",\n                    \"target\": { \"expr\": \"state\", \"name\": \"searchQuery\" },\n                    \"method\": \"toLowerCase\"\n                  }]\n                }\n              }]\n            },\n            \"as\": \"product\",\n            \"key\": { \"expr\": \"var\", \"name\": \"product\", \"path\": \"id\" },\n            \"body\": {\n              \"kind\": \"element\",\n              \"tag\": \"li\",\n              \"props\": { \"style\": { \"expr\": \"lit\", \"value\": \"display: flex; justify-content: space-between; align-items: center; padding: 12px; margin-bottom: 8px; background: #f5f5f5; border-radius: 4px;\" } },\n              \"children\": [\n                {\n                  \"kind\": \"element\",\n                  \"tag\": \"span\",\n                  \"props\": { \"style\": { \"expr\": \"lit\", \"value\": \"font-weight: 500; color: #333;\" } },\n                  \"children\": [{ \"kind\": \"text\", \"value\": { \"expr\": \"var\", \"name\": \"product\", \"path\": \"name\" } }]\n                },\n                {\n                  \"kind\": \"element\",\n                  \"tag\": \"span\",\n                  \"props\": { \"style\": { \"expr\": \"lit\", \"value\": \"color: #16a34a; font-weight: bold;\" } },\n                  \"children\": [\n                    { \"kind\": \"text\", \"value\": { \"expr\": \"lit\", \"value\": \"\" } },\n                    { \"kind\": \"text\", \"value\": { \"expr\": \"var\", \"name\": \"product\", \"path\": \"price\" } }\n                  ]\n                }\n              ]\n            }\n          }\n        ]\n      }\n    ]\n  }\n}",
    "array-expression": "{\n  \"version\": \"1.0\",\n  \"state\": {\n    \"features\": {\n      \"type\": \"list\",\n      \"initial\": [\n        {\n          \"id\": \"dark-mode\",\n          \"name\": \"Dark Mode\",\n          \"enabled\": false\n        },\n        {\n          \"id\": \"notifications\",\n          \"name\": \"Notifications\",\n          \"enabled\": true\n        },\n        {\n          \"id\": \"auto-save\",\n          \"name\": \"Auto Save\",\n          \"enabled\": false\n        }\n      ]\n    }\n  },\n  \"actions\": [\n    {\n      \"name\": \"toggleFeature\",\n      \"steps\": [\n        {\n          \"do\": \"setPath\",\n          \"target\": \"features\",\n          \"path\": {\n            \"expr\": \"array\",\n            \"elements\": [\n              {\n                \"expr\": \"var\",\n                \"name\": \"payload\",\n                \"path\": \"index\"\n              },\n              {\n                \"expr\": \"lit\",\n                \"value\": \"enabled\"\n              }\n            ]\n          },\n          \"value\": {\n            \"expr\": \"not\",\n            \"operand\": {\n              \"expr\": \"var\",\n              \"name\": \"payload\",\n              \"path\": \"currentEnabled\"\n            }\n          }\n        }\n      ]\n    }\n  ],\n  \"view\": {\n    \"kind\": \"element\",\n    \"tag\": \"div\",\n    \"props\": {\n      \"style\": {\n        \"expr\": \"lit\",\n        \"value\": \"font-family: system-ui, sans-serif; padding: 16px;\"\n      }\n    },\n    \"children\": [\n      {\n        \"kind\": \"element\",\n        \"tag\": \"h1\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"margin: 0 0 8px 0; font-size: 24px;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"lit\",\n              \"value\": \"Feature Selector\"\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"p\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"color: #666; margin: 0 0 16px 0;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"text\",\n            \"value\": {\n              \"expr\": \"lit\",\n              \"value\": \"Toggle features and see the selected items displayed using array expression.\"\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"div\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"margin-bottom: 16px;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"each\",\n            \"items\": {\n              \"expr\": \"state\",\n              \"name\": \"features\"\n            },\n            \"as\": \"feature\",\n            \"index\": \"i\",\n            \"key\": {\n              \"expr\": \"var\",\n              \"name\": \"feature\",\n              \"path\": \"id\"\n            },\n            \"body\": {\n              \"kind\": \"element\",\n              \"tag\": \"label\",\n              \"props\": {\n                \"style\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"display: flex; align-items: center; gap: 8px; padding: 8px; cursor: pointer;\"\n                }\n              },\n              \"children\": [\n                {\n                  \"kind\": \"element\",\n                  \"tag\": \"input\",\n                  \"props\": {\n                    \"type\": {\n                      \"expr\": \"lit\",\n                      \"value\": \"checkbox\"\n                    },\n                    \"checked\": {\n                      \"expr\": \"var\",\n                      \"name\": \"feature\",\n                      \"path\": \"enabled\"\n                    },\n                    \"onChange\": {\n                      \"event\": \"change\",\n                      \"action\": \"toggleFeature\",\n                      \"payload\": {\n                        \"index\": {\n                          \"expr\": \"var\",\n                          \"name\": \"i\"\n                        },\n                        \"currentEnabled\": {\n                          \"expr\": \"var\",\n                          \"name\": \"feature\",\n                          \"path\": \"enabled\"\n                        }\n                      }\n                    }\n                  }\n                },\n                {\n                  \"kind\": \"element\",\n                  \"tag\": \"span\",\n                  \"props\": {\n                    \"style\": {\n                      \"expr\": \"lit\",\n                      \"value\": \"color: #333;\"\n                    }\n                  },\n                  \"children\": [\n                    {\n                      \"kind\": \"text\",\n                      \"value\": {\n                        \"expr\": \"var\",\n                        \"name\": \"feature\",\n                        \"path\": \"name\"\n                      }\n                    }\n                  ]\n                }\n              ]\n            }\n          }\n        ]\n      },\n      {\n        \"kind\": \"element\",\n        \"tag\": \"div\",\n        \"props\": {\n          \"style\": {\n            \"expr\": \"lit\",\n            \"value\": \"padding: 16px; background: #f5f5f5; border-radius: 8px;\"\n          }\n        },\n        \"children\": [\n          {\n            \"kind\": \"element\",\n            \"tag\": \"h3\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"margin: 0 0 12px 0; font-size: 16px; color: #333;\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"text\",\n                \"value\": {\n                  \"expr\": \"lit\",\n                  \"value\": \"Selected Features (using array expression):\"\n                }\n              }\n            ]\n          },\n          {\n            \"kind\": \"element\",\n            \"tag\": \"div\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"display: flex; flex-wrap: wrap; gap: 8px;\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"each\",\n                \"items\": {\n                  \"expr\": \"call\",\n                  \"target\": {\n                    \"expr\": \"state\",\n                    \"name\": \"features\"\n                  },\n                  \"method\": \"filter\",\n                  \"args\": [\n                    {\n                      \"expr\": \"lambda\",\n                      \"param\": \"f\",\n                      \"body\": {\n                        \"expr\": \"get\",\n                        \"base\": {\n                          \"expr\": \"var\",\n                          \"name\": \"f\"\n                        },\n                        \"path\": \"enabled\"\n                      }\n                    }\n                  ]\n                },\n                \"as\": \"selected\",\n                \"key\": {\n                  \"expr\": \"var\",\n                  \"name\": \"selected\",\n                  \"path\": \"id\"\n                },\n                \"body\": {\n                  \"kind\": \"element\",\n                  \"tag\": \"span\",\n                  \"props\": {\n                    \"style\": {\n                      \"expr\": \"lit\",\n                      \"value\": \"display: inline-block; padding: 4px 12px; background: #0070f3; color: white; border-radius: 16px; font-size: 14px;\"\n                    }\n                  },\n                  \"children\": [\n                    {\n                      \"kind\": \"text\",\n                      \"value\": {\n                        \"expr\": \"var\",\n                        \"name\": \"selected\",\n                        \"path\": \"name\"\n                      }\n                    }\n                  ]\n                }\n              }\n            ]\n          },\n          {\n            \"kind\": \"element\",\n            \"tag\": \"div\",\n            \"props\": {\n              \"style\": {\n                \"expr\": \"lit\",\n                \"value\": \"margin-top: 16px; padding: 12px; background: #e0f2fe; border-radius: 4px;\"\n              }\n            },\n            \"children\": [\n              {\n                \"kind\": \"element\",\n                \"tag\": \"code\",\n                \"props\": {\n                  \"style\": {\n                    \"expr\": \"lit\",\n                    \"value\": \"font-size: 12px; color: #0369a1;\"\n                  }\n                },\n                \"children\": [\n                  {\n                    \"kind\": \"text\",\n                    \"value\": {\n                      \"expr\": \"lit\",\n                      \"value\": \"Array built: [\"\n                    }\n                  },\n                  {\n                    \"kind\": \"text\",\n                    \"value\": {\n                      \"expr\": \"call\",\n                      \"target\": {\n                        \"expr\": \"call\",\n                        \"target\": {\n                          \"expr\": \"call\",\n                          \"target\": {\n                            \"expr\": \"state\",\n                            \"name\": \"features\"\n                          },\n                          \"method\": \"filter\",\n                          \"args\": [\n                            {\n                              \"expr\": \"lambda\",\n                              \"param\": \"f\",\n                              \"body\": {\n                                \"expr\": \"get\",\n                                \"base\": {\n                                  \"expr\": \"var\",\n                                  \"name\": \"f\"\n                                },\n                                \"path\": \"enabled\"\n                              }\n                            }\n                          ]\n                        },\n                        \"method\": \"map\",\n                        \"args\": [\n                          {\n                            \"expr\": \"lambda\",\n                            \"param\": \"f\",\n                            \"body\": {\n                              \"expr\": \"get\",\n                              \"base\": {\n                                \"expr\": \"var\",\n                                \"name\": \"f\"\n                              },\n                              \"path\": \"name\"\n                            }\n                          }\n                        ]\n                      },\n                      \"method\": \"join\",\n                      \"args\": [\n                        {\n                          \"expr\": \"lit\",\n                          \"value\": \", \"\n                        }\n                      ]\n                    }\n                  },\n                  {\n                    \"kind\": \"text\",\n                    \"value\": {\n                      \"expr\": \"lit\",\n                      \"value\": \"]\"\n                    }\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n}"
  }
}